<!DOCTYPE html>
<html>
	<head>
		<title>WebWorker test</title>
		<script src='src/collection.js'></script>
		<script src='extra/gen-lrs-data.js'></script>
		<script>
			function ready(){
				var c = new ADL.CollectionAsync(window.statements, 'src/collection-worker.js');
				c.where('verb.id = "http://adlnet.gov/expapi/verbs/passed" and object.id="http://myschool.edu/xapi_vocab/test1" and result.score.raw >= 91' ).exec(function(msg){
					document.body.innerHTML = '<pre>'+JSON.stringify(msg, null, '    ')+'</pre>';
					console.log('Result length', msg.length);
				});
			};
		</script>
	</head>
	<body onload='ready()'>
	</body>
</html>
