<!DOCTYPE html>
<html>
	<head>
		<title>WebWorker test</title>
		<script src='src/collection.js'></script>
		<script src='extra/gen-lrs-data.js'></script>
		<script>
			function ready(){
				var handle = setInterval(function(){document.body.innerHTML += '.';}, 20);
				var c = new ADL.CollectionAsync(window.statements, 'src/collection-worker.js');
				c.where('result.score.raw != null' ).exec(function(msg){
					document.body.innerHTML += '<pre>'+JSON.stringify(msg, null, '    ')+'</pre>';
					console.log('Result length', msg.length);
					clearInterval(handle);
				});
			};
		</script>
	</head>
	<body onload='ready()'>
	</body>
</html>
