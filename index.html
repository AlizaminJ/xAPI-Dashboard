<html>
<head>
	<script type="text/javascript" src="xAPIWrapper/xapiwrapper.min.js"></script>
	<script type="text/javascript" src="g.raphael/raphael-min.js"></script>
	<script type="text/javascript" src="g.raphael/min/g.raphael-min.js"></script>
	<script type="text/javascript" src="g.raphael/min/g.bar-min.js"></script>
	<script type="text/javascript" src="set.js"></script>
	<script type="text/javascript" src="dashboard.js"></script>
	<script type="text/javascript">
		var wrapper = ADL.XAPIWrapper,
			dashboard = ADL.XAPIDashboard;
			
		var xAPIConf = {
			"endpoint" : 'http://12.109.40.37/xAPI/',
			"user": 'lrsuser',
			"password": 'The only thing we have to fear'
		};
				
		wrapper.changeConfig(xAPIConf);
		window.onload = function(){
			dashboard.init("bargraph", 0, 0, 1024, 600);
			
			dashboard.getAllStatements({'verb': 'http://vwf.adlnet.gov/xapi/verbs/logged_in'}, function(){
				dashboard.count("object.id",
					// preprocess
					function(data){
						return data.without( data.selectEqual('object.id', 'http://vwf.adlnet.gov/xapi/virtual_world_sandbox') );
					},
					// postprocess
					function(data){
						return data.orderBy('result', 'descending');
					}
				);
			});
		};
	</script>
</head>
<body></body>
</html>
